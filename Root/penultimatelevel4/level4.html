<html>
 <head>
    <meta charset="UTF-8" />
    <title>Sixty Seconds</title>
     <script src="assets/js/player.js"> </script>
      <script src="assets/js/pageflip.js"> </script>
     
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
 
  </head>
<style type="text/css">
body{
  background-image: url('assets/img/images.jpg');
  background-position: absolute;
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

 #clock
         {
            text-align: center; 
            width: 100px;
            height: 40px;
            font-size: 2em;
            
            top:6%;
            position: fixed;
            right:2%;
            
            color:#00FF00;
            outline:2px black solid;
            z-index:300;
            opacity:0.6;
            background:black;

        }</style>
 <body>

 <div id="wallcontainer">
 <audio id="boom"> <source src=" assets/audio/TimeBomb.wav" type="audio/ogg "></audio>
 <audio id="boom2"> <source src=" assets/audio/boom.wav" type="audio/ogg "></audio>
 <audio id="audio"> <source src="assets/audio/huh.wav" type='audio/wav; '></audio>
  
  <audio id="collide"> <source src="assets/audio/clock.ogg" type='audio/ogg; '></audio>
  <audio id="collect"> <source src="assets/audio/crash.ogg" type='audio/ogg; '></audio>
  <audio id="bgsound"> <source src="assets/audio/crash.ogg" type='audio/ogg; '></audio>
 <div id="canvas-container"><canvas id="canvas" width="1250" height=" 750"></canvas></div>
  <span id="clock"></span>
 </div>
<script type="text/javascript">
var aud=document.getElementById("audio");   //Walk
var collide=document.getElementById("collide");  //Wall
var collect=document.getElementById("collect");  //Resource
var buster = new Sprite("assets/img/Buster0.png");
var flag = 0;
var ctx = document.getElementById('canvas').getContext('2d');
var dx = 6;
var dy = 6;
var xq= 60;
var vault =new Array();
var c = 0;        //for timer
var t;            //for timer
var timer_is_on = 0;
var section =null;
var x = 80;
var y =  50;
var bBoxRight;
var bBoxLeft;
var bBoxBottom;
var bBoxTop;
var aBoxRight;
var aBoxLeft;
var aBoxBottom;
var aBoxTop;
var c;
var keyFunction=true;
var bw=12;                    //Half of buster's height and width
var p= new Array();//ajax parameters
var bh=12;
var have =new Array();
var count;  var l=490; var ini =0;    var collided=0;    var busterini=0;
var objects = new Array();
var resources =new Array();
var resource_count=0;
var rx =new Array();
var ry =new Array();
var oxy =new Image();   
var wat=new Image(); 
var fue=new Image();   
var foo=new Image();
var tor=new Image();
oxy.src ="assets/img/fuel.png";   
wat.src ="assets/img/water.png";  
fue.src="assets/img/fuel.png";    
foo.src="assets/img/foo.png";  
tor.src="assets/img/tor.png";

for (var i=0;i<4;i++)    
 {resources[i]=wat; resources[i].id='wat';  } 
for (var i=4;i<8; i++)  
 {resources[i]=foo; resources[i].id='foo'; }
for (var i=8;i<12; i++) 
 {resources[i]=fue; resources[i].id='fue'; }
resources[12]=oxy; resources[i].id='oxy'; 
resources[13]=tor; resources[i].id='tor';
 
 
rx.push(543);ry.push(132); //water
rx.push(1004);ry.push(333);
rx.push(676);ry.push(440);
rx.push(510);ry.push(281);

rx.push(729);ry.push(375); //food
rx.push(611);ry.push(621);
rx.push(1142);ry.push(360);
rx.push(748);ry.push(31);

rx.push(283);ry.push(133); //feul
rx.push(999);ry.push(53);
rx.push(494);ry.push(448);
rx.push(345);ry.push(667);

rx.push(800);ry.push(93); //oxygen

rx.push(809);ry.push(435); //torch or key
 
 

        var have =new Array();    //Created this
        resource_count=resources.length;
    
      

function inVault() {    //Cupboard in room 1, Section 1
if (x>74 && x<151)
{
if(y>209 && y<323 )
{return 1;}
}
else return 0;
}


function getsection(x,y){   //Returns Section number
if (x <=612 )
     section =1;
else  if (x > 612  )
    section =2;
return section;
}

                                                        //End for loop

function intersects( aBoxLeft,  aBoxRight,  aBoxTop,  aBoxBottom, bBoxLeft,  bBoxRight,  bBoxTop,  bBoxBottom) {
   if( bBoxRight >= aBoxLeft && bBoxBottom >= aBoxTop && aBoxRight >= bBoxLeft && aBoxBottom >= bBoxTop)
            collided = true;
}                                                         //End Intersects

function remove(i){
     if (have.length==1)                                //Player already has resource 
      return 0;
      collect.play();        //Collect audio
      have.push(resources[i]);  
      resources.splice(i,1);
            rx.splice(i,1);
            ry.splice(i,1);
            resource_count --;
} //End Remove

 

function keyInput(evt) {
 aud.play();
 if(keyFunction)
 {
for(var i=0;i<resources.length;i++)                         // Resource Intersection Part 1
{
aBoxLeft=x-8;
aBoxRight=x+8;
aBoxTop=y-8;
aBoxBottom=y+5;

bBoxLeft=rx[i]-15;
bBoxRight=rx[i]+25;
bBoxTop=ry[i]-5;
bBoxBottom=ry[i]+28;

intersects( aBoxLeft,  aBoxRight,  aBoxTop,  aBoxBottom,
                           bBoxLeft,  bBoxRight,  bBoxTop,  bBoxBottom);
if(collided)
{
   remove(i);
   collided=false;
}
}
 
if (ini==0)                                            //Start Timer on first move by player
{//document.getElementById("clock").value = 0;
startCount();}
ini=1;
 
 
var sect=getsection(x,y);
if (sect==1)                                                      //Section 1 of 4
{

switch(evt.keyCode)
{

case 38:{         flag=0;
                        if(x>12 && x<612 )
                        if  (y-bh<10 && y>10)
                        {y=bh+10; flag=1;

                         }                            //Upper wall tick
                     
                        if(x>250 && x<400)
                        {
                        if (y-bh<140 && y>140)
                        {y=bh+140; flag=1; }                            //White bedroom wall 1 tick
                        }
                     
                        if(x>450 && x<612)
                        {
                        if (y-bh<140 && y>140)
                        {y=bh+140; flag=1; }                            //White bedroom wall 2 tick
                        }
                     
                        if(x>261 && x<374)
                        {
                        if (y-bh<95 && y>95)
                        {y=bh+95; flag=1; }                            //White bed
                        }
                     
                        if(x>521 && x<612)
                        {
                        if (y-bh<83 && y>83)
                        {y=bh+83; flag=1; }                                //Section 1 PC Table
                        }
                       

                         //sect 3 ka part since we have only two sections now
                      if(x>12  && x<113)
                        {if(y-bh <409 && y >409)
                       {  y=409+bh;
                        flag=1;     }
                        }
                     
                        if(x>145  && x<309)
                        {
                        if (y -bh < 409 && y>=409 )
                        {  y=409+bh;
                        flag=1;     }
                        }
                     
                        if(x>382  && x<472)
                        {
                        if (y -bh <541 && y>=541 )
                        {  y=541+bh;
                        flag=1;     }
                        }
                     
                        if(x>464  && x<636)
                        {
                        if (y -bh <408 && y>=408 )             //tick all of the above
                        {  y=408+bh;
                        flag=1;     }
                        }
                       if(x>575 && x<612)
                       {
                        if(y-bh <347 && y>=347)
                        {
                          y=347+bh;flag=1;
                        }
                       }
                        if(x>22 && x<239)
                        {
                        if (y -bh <624 && y>=624)
                        {  y=624+bh;
                        flag=1;     }
                        }
                        if (flag==1)
                        collide.play();
                        if (flag == 0 ){
                        y -= dy;
                        buster.drawAnimated(x, y, [67,68,69,71],ctx);
                        }
        } break;                                //End case 38 sect 1

case 40:{               flag=0;                                 
                        if(x>176 && x<243)
                        {
                        if (y+bh>122 && y<=122)
                        {y=122-bh; flag=1; }                                //Section 1 Room 1
                        }
                     
                        if(x>250 && x<407)
                        {
                        if (y+bh>128 && y<128)
                        {y=128-bh; flag=1; }                                //Section 1 White Bed
                        }
                     
                        if(x>462 && x<614)
                        {
                        if (y+bh>128 && y<128)
                        {y=128-bh; flag=1; }                                //Section 1 White bed part 2 and PC room
                        }
                     
                        if(x>525 && x<650)
                        {
                        if (y+bh>145 && y<145)
                        {y=145-bh; flag=1; }                                //Section 1 Dining table
                        }
                     
                        if(x>576 && x<630)
                        {
                        if (y+bh>290 && y<290)
                        {y=290-bh; flag=1; }                                //Section 1 Dining table Part 1
                        }
                          //section ka part same reason
                          if(x>12 && x<113)
                        { if(y+bh> 377 && y <= 377)
                          {y=377-bh;
                          flag=1;}
                        }
                     
                        if(x>154 && x<195)
                        { if(y+bh> 377 && y <= 377)
                          {y=377-bh;
                          flag=1;}
                        }
                     
                        if(x>250 && x<310)
                        { if(y+bh> 377 && y <= 377)
                          {y=377-bh;
                          flag=1;}
                        }
                     
                        if(x>364 && x<639)
                        { if(y+bh> 377 && y <= 377)
                          {y=377-bh;
                          flag=1;}
                        }
                     
                        if(x>21 && x<241)
                        { if(y+bh>475 && y <= 475)
                          {y=475-bh;
                          flag=1;}
                        }
                     
                        if(x>12 && x<395)
                        { if(y+bh>665 && y <=665)
                          {y= 665-bh;
                          flag=1;}
                        }
                     
                        if(x>380 && x<647)
                        { if(y+bh>625 && y <=625)
                          {y= 625-bh;
                          flag=1;}
                        }
                      
                        if (flag==0 ){
                        y += dy;
                        buster.drawAnimated(x, y, [79,80,81,82,83],ctx);
                        }
        }break;                                //End case 40 sect 1

case 37:{
                        flag = 0;
                         //Reset flag
                        if(y>10 && y<692){
                        if(x-dx <17 && x>=17 )
                        {
                        flag=1;
                        x=24;}
                        }
                     
                        if(y>140 && y<384)
                        {
                        if (x-dx<250 && x>250)
                        {x=250+dx; flag=1; }                            //Section 1  Dining
                        }
                     
                        if(y>11 && y<95)
                        {
                        if (x-dx<360 && x>360)
                        {x=362+dx; flag=1; }                            //Section 1  Bedtick
                        }
                     
                        if(y>90 && y<150)
                        {
                        if (x-dx<252 && x>252)
                        {x=254+dx; flag=1; }                            //Below bed tick
                        }
                     
                        if(y>16 && y<148)
                        {
                        if (x-dx<522 && x>522)
                        {x=524+dx; flag=1; }                            //PC Room
                        }
              
                     //section 3 ka part
                     if(y>310 && y<692) {
                        if(x-dx <17 && x>=17 )
                        {
                        flag=1;
                        x=24;}
                        }
                     
                        if(y>150 && y<404) {                  //tick                 /////////////////////
                        if(x-dx <252 && x>=252 )
                        {
                        flag=1;
                        x=254+dx;}
                        }
                     
                        if(y>480 && y<616) {                  //tick
                        if(x-dx <237 && x>=237 )
                        {
                        flag=1;
                        x=237+dx;}
                        }
                     
                        if(y>411 && y<543) {
                        if(x-dx <474 && x>=474)
                        {
                        flag=1;
                        x= 474+dx;}
                        }
                      

                        if (flag == 0) {
                        x -= dx;
                        buster.drawAnimated(x, y, [13,14,15,16,17,18],ctx);
                        }
        } break;                                //End case 37 sect 1
     
case 39:     { ////////nai hua h ye yrt
              flag=0;
                //Reset flag
                if(y>130 && y<410)
                {
                if (x+dx>173 && x<=173)
                {x=173-dx; flag=1; }                            // Section 1 Room 1
                }
             
                if(y>0 && y<153)
                {
                if (x+dx>225 && x<=225)
                {x=225-dx; flag=1; }                            // Section 1 Room 1 Top
                }
             
                if(y>0 && y<153)
                {
                if (x+dx>485 && x<=485)
                {x=485-dx; flag=1; }                            // Section 1 Bedroom
                }
             
                if(y>271 && y<312)
                {
                if (x+dx>534 && x<=534)
                {x=534-dx; flag=1; }                            // Section 1 D Table
                }
             

               //sect 3 ka part
            
                        //Reset flag
                        if (y>403 && y < 630) {
                        if (x + dx > 615 && x <= 615) {
                        x = 615-dx;
                        flag = 1;
                        }
                        }

                        if (y>384 && y < 543) {
                        if (x + dx > 370 && x <= 370) {
                        x = 370-dx;
                        flag = 1;
                        }
                        }
                     
                        if (y>622 && y <686) {
                        if (x + dx > 370 && x <= 370) {
                        x = 370-dx;
                        flag = 1;
                        }
                        }
                     
                     
            
                if (flag == 0 ) {
                x += dx;
                buster.drawAnimated(x, y, [7,8,9,10,11,12],ctx);
                }
       
            } break;                                //End case 39 sect 1
} //End Switch 1
} //End section 1
if (sect==2)
{
switch(evt.keyCode)
{
case 38:{                flag=0;
                        if(x>676 && x <779 )
                        {
                        if (y-bh<0 && y>0)
                        {  y=bh-10;
                        flag=1;     }                                //Top wall
                        }
                     
                        if(x>605 && x <710 )
                        {
                        if (y-bh<65 && y>65)
                        {  y=68+bh;
                        flag=1;     }                                //Small
                        }
                        if(x>605 && x <660 )
                        {
                        if (y-bh<160 && y>160)
                        {  y=160+bh;
                        flag=1;     }                                //Small
                        }
                     
                        if(x>705 && x <785 )
                        {
                        if (y-bh<160 && y>160)
                        {  y=160+bh;
                        flag=1;     }                                //Small
                        }
                     
                        if(x>611 && x <678 )
                        {
                        if (y-bh<80 && y>80)
                        {  y=83+bh;
                        flag=1;     }                                //PC
                        }
                     
                        if(x>965 && x <981 )
                        {
                        if (y-bh<249 && y>249)
                        {  y=249+bh;
                        flag=1;     }                                //Wall
                        }
                     
                        if(x>1020 && x <1161 )
                        {
                        if (y-bh<131 && y>131)
                        {  y=131+bh;
                        flag=1;     }                                //Bed
                        }
                       if(x>970 && x<1180)
                       {
                        if(y-bh <14 && y>14)
                            {y=14+bh; flag=1;}
                       }
                        if(x>775 && x <955 )
                        {
                        if (y-bh<59 && y>59)
                        {  y=59+bh;
                        flag=1;     }                                //Tub
                        }

                        //sect 4 ka part
                        if(x>645  && x<860)
                        {
                        if (y -bh < 409 && y>=409 )
                        {  y=409+bh;
                        flag=1;     }
                        }//
                     
                        if(x>845  && x<884)
                        {
                        if (y -bh <556 && y>=556 )
                        {  y=556+bh;
                        flag=1;     }
                        }//
                       if(x>615  && x<815)
                        {
                        if (y -bh <360 && y>=360 )
                        {  y=360+bh;
                        flag=1;     }
                        }//
                       if(x>582  && x<834) //chnfd
                        {
                        if (y -bh <343 && y>=343 )
                        {  y=343+bh;
                        flag=1;     }
                        }//
                     
                        if(x>920  && x<970)
                        {
                        if (y -bh <556 && y>=556 )
                        {  y=556+bh;
                        flag=1;     }
                        }//
                     
                      
                        if(x>1035 && x<1182)
                        {
                        if (y -bh <335 && y>=335)
                        {  y=335+bh;
                        flag=1;     }
                        }
                     
                        if(x>1010 && x<1164)
                        {
                        if (y -bh <656 && y>=656)
                        {  y=656+bh;
                        flag=1;     }
                        }
                     
                        if(x>970 && x<1050)
                        {
                        if (y -bh <360 && y>=360)
                        {  y=360+bh;
                        flag=1;     }
                        }
                        if (flag == 0 ){
                        y -= dy;
                        buster.drawAnimated(x, y, [67,68,69,71],ctx);
                        }
        } break;                                //End case 38 sect 2
case 40:{                  flag=0;
                        if(x>616 && x<652)
                        { if(y+bh>125 && y<125)
                          {y=125-bh;
                          flag=1;}                                //Wall
                        }                               
                     
                        if(x>705 && x<768)
                        { if(y+bh>150 && y<150)
                          {y=150-bh;
                          flag=1;}                                //Wall
                        }
                       if(x>612 && x<831)
                        {
                        if(x>630 && x<767)
                        { if(y+bh>240 && y<240)
                          {y=240-bh;
                          flag=1;}                                //Chair
                        }else if(x>620 && x<655 )
                        { if(y+bh >272 && y<272)
                          {y= 272-bh;flag=1;   }     }
                          else if(x>760 && x<800 )
                        { if(y+bh >272 && y<272)
                          {y= 272-bh;flag=1;   }     }
                         else if(y+bh>285 && y<285)
                          {y=285-bh;
                          flag=1;}                                //Chair
                        }
                     
                        if(x>1022 && x<1160)
                        { if(y+bh>30 && y<30)
                          {y=30-bh;
                          flag=1;}                                //Bed
                        }
                     
                        if(x>971 && x<1041)
                        { if(y+bh>330 && y<330)
                          {y=330-bh;
                          flag=1;}                                //Wall
                        }
                     
                        if(x>1021 && x<1184)
                        { if(y+bh>300 && y<300)
                          {y=300-bh;
                          flag=1;}                                //Wall
                        }
                     
                        if(x>955 && x<972)
                        { if(y+bh>280 && y<280)
                          {y=280-bh;
                          flag=1;}                                //Wall not sure
                        }
                                                        
                        //sect 4
                        if(x>665 && x<865)
                        { if(y+bh> 380 && y <= 380)
                          {y=380-bh;
                          flag=1;}
                        }
                        if(x>955 && x<972)
                        { if(y+bh>420 && y<420)
                          {y=420-bh;
                          flag=1;}                                //Wall not sure
                        }
                        
                        if(x>920 && x<970)
                        { if(y+bh> 523 && y <= 523)
                          {y=523-bh;
                          flag=1;}
                        }
                     
                        if(x>784 && x<965)
                        { if(y+bh> 594 && y <= 594)
                          {y=594-bh;
                          flag=1;}
                        }
                     
                        if(x>642 && x<728)
                        { if(y+bh>  564 && y <= 564)
                          {y=564-bh;
                          flag=1;}
                        }
                     
                        if(x>1008 && x<1165)
                        { if(y+bh>547 && y <= 547)
                          {y=547-bh;
                          flag=1;}
                        }
                     
                        if(x>644 && x<1183)
                        { if(y+bh>665 && y <=665)
                          {y= 665-bh;
                          flag=1;}
                        }
                     

                        if (flag==0){
                        y += dy;
                        buster.drawAnimated(x, y, [79,80,81,82,83],ctx);
                        }
        } break;                                 //40 section 2

case 37:{
                flag = 0; //Reset flag
             
                        if(y>0 && y<70)
                        {
                        if (x-dx<696 && x>=696)
                        {x=698+dx; flag=1; }                                //PC
                        }
                     
                        if(y>10 && y<163)
                        {
                        if (x-dx<785 && x>=785)
                        {x=785+dx; flag=1; }                                //Wall
                        }
                     
                        if(y>10 && y<60)
                        {
                        if (x-dx<946 && x>=946)
                        {x=946+dx; flag=1; }                                //tub
                        }
                     
                        if(y>10 && y<250)
                        {
                        if (x-dx<982 && x>=982)
                        {x=982+dx; flag=1; }                                //wall long
                        }
                     
                        if(y>41 && y<131)
                        {
                        if (x-dx<1161 && x>=1161)
                        {x=1161+dx; flag=1; }                                //bed
                        }
                     
                        if(y>270 && y<352)
                        {
                        if (x-dx<982 && x>=982)
                        {x=984+dx; flag=1; }                                //wall
                        }
                       if(y>337 && y<360)
                        {
                        if (x-dx<1050 && x>=1050)
                        {x=1050+dx; flag=1; }                                //wall
                        }
                     
                        if(y>295 && y<321)
                        {
                        if (x-dx<729 && x>=729)
                        {x=729+dx; flag=1; }                                //chair
                        }
                     
                        if(y>267 && y<294)
                        {
                        if (x-dx<671 && x>=671)
                        {x=671+dx; flag=1; }                                //chair
                        }
                      
                        if(y>124 && y<165)
                        {
                        if (x-dx<654 && x>=654)
                        {x=654+dx; flag=1; }                                //wall
                        }
                        if(y>304 && y<347 ){
                            if(x-dx<830 && x>830)
                                {x=830+dx;flag=1;}
                        }
                        if(y>272 && y<364 )
                            {if(x-dx<801 && x>801)
                                {x=801+dx;flag=1;}
                            }
                       if(y>240 && y<396)
                        {
                        if (x-dx<770 && x>=770)
                        {x=770+dx; flag=1; }                                //wall
                        }
                     
                        if(y>153 && y<166)
                        {
                        if (x-dx<654 && x>=654)
                        {x=654+dx; flag=1; }                                //wall
                        }
                      //sect 4
                      if(y>405 && y<580) {
                        if(x-dx <655 && x>=655 )
                        {
                        flag=1;
                        x=655+dx;}
                        }
                     
                        if(y>315 && y<400) {
                        if(x-dx <732 && x>=732 )
                        {
                        flag=1;
                        x=732+dx;}
                        }
                     
                        if(y>577 && y<688) {
                        if(x-dx <732 && x>=732 )
                        {
                        flag=1;
                        x=732+dx;}
                        }
                     
                        if(y>365 && y<560) {
                        if(x-dx <867 && x>=867)
                        {
                        flag=1;
                        x= 867+dx;}
                        }
                     
                        if(y>357&& y<398) {
                        if(x-dx <982 && x>=982)
                        {
                        flag=1;
                        x= 982+dx;}
                        }
                     
                        if(y>410 && y<696) {
                        if(x-dx <982 && x>=982)
                        {
                        flag=1;
                        x= 982+dx;}
                        }
                     
                if (flag == 0 ) {
                  x -= dx;
                  buster.drawAnimated(x, y, [13,14,15,16,17,18],ctx);
                }
        }break;                                     //37 section 2
case 39:{
           
                flag = 0; //Reset flag
                if(y>10 && y<150)
                {
                if (x+dx<770 && x>770)
                {x=770-dx; flag=1; }                            // wall
                }
             
                if(y>11 && y<249)
                {
                if (x+dx<965 && x>965)
                {x=965-dx; flag=1; }                            // wall
                }
             
                if(y>300 && y<321)
                {
                if (x+dx<965 && x>965)
                {x=965-dx; flag=1; }                            // wall
                }
             
                if(y>11 && y<60)
                {
                if (x+dx<805 && x>805)
                {x=805-dx; flag=1; }                            //tub
                }
             
                if(y>43 && y<130)
                {
                if (x+dx<1021 && x>1021)
                {x=1021-dx; flag=1; }                            //bed
                }
             
                if(y>11 && y<700)
                {
                if (x+dx<1183 && x>1183)
                {x=1183-dx; flag=1; }                            //mainwall
                }

               //sect 4
                   if (y>406 && y < 643) {
                        if (x + dx > 617 && x <= 617) {
                        x = 617-dx;
                        flag = 1;
                        }
                        }

                        if (y>404 && y < 554) {
                        if (x + dx > 851 && x <= 851) {
                        x = 851-dx;
                        flag = 1;
                        }
                        }
                     
                        if (y>614 && y <695) {
                        if (x + dx > 794 && x <= 794) {
                        x = 794-dx;
                        flag = 1;
                        }
                        }
                     
                        if (y>434 && y <688) {
                        if (x + dx > 963 && x <= 963) {
                        x = 963-dx;
                        flag = 1;
                        }
                        }
                     
                        if (y>336 && y <691) {
                        if (x + dx > 1183 && x <= 1183) {
                        x = 1183-dx;
                        flag = 1;
                        }
                        }
                     
                        if (y>563 && y <659) {
                        if (x + dx > 1019 && x <= 1019) {
                        x = 1019-dx;
                        flag = 1;
                        }
                        }
                     
                        if (y>317 && y <399) {
                        if (x + dx > 962 && x <= 962) {
                        x = 962-dx;
                        flag = 1;
                        }
                        }
                     
                if (flag == 0) {
                x+= dx;
                buster.drawAnimated(x, y, [7,8,9,10,11,12],ctx);
                }
       
        } break;                                     //39 section 2

}      //Switch 2
}        // Section 2&4

}//keyfunction
} //End keyInput


 
function timedCount() {
    //document.getElementById("txt").value = c;
   c = c + 1;
    if(c<60)
    t = setTimeout(function(){ timedCount() }, 1000);
  else stopCount();
}
function startCount() {
    if (!timer_is_on  ) {
        timer_is_on = 1;
        timedCount();
       
    }
}

function stopCount() {
    clearTimeout(t);
    timer_is_on = 0;
    keyFunction=false;
     calculate(vault);
alert("got back");
    window.location="lastpagefinal/demo.php";
}
function init() {
          function draw() {
            //ctx.clearRect(0,0,1200,700);
            document.getElementById("clock").innerHTML=c;
          
            if (inVault() && have.length>=1)   //Player present in the vault and he has a resource
            {
            
            if (have[0]==wat)
            { 
            ctx.drawImage(wat,100,100,80,80);
            vault.push(have[0]);
            have.splice(wat,1);
            }   
            
              if (have[0]==oxy)
            { 
            ctx.drawImage(oxy,100,100,80,80);
            vault.push(have[0]);
            have.splice(oxy,1);
             }
             
             if (have[0]==foo)
             {ctx.drawImage(foo,100,100,80,80);
                vault.push(have[0]);
             have.splice(foo,1); 
           
              }
             
             if (have[0]==fue)
             {ctx.drawImage(fue,100,100,80,80);
                vault.push(have[0]);
             have.splice(fue,1);
               }
             
             if (have[0]==oxy)
             {ctx.drawImage(fue,100,100,80,80);  //CHANGE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
             vault.push(have[0]);
             have.splice(oxy,1);  
               }
             
             if (have[0]==tor)
             {ctx.drawImage(tor,100,100,80,80);
             vault.push(have[0]);
             have.splice(tor,1);   
             }
            }
           
        
              for (var i =0 ;i< resource_count;i++)
              {

           ctx.drawImage(resources[i],rx[i],ry[i],30,30);
            
          }
             
           requestAnimationFrame(draw);
          }
          draw();
          //document.getElementById("txt").value = 0;
         
     
     }
     window.onload = init();
        window.addEventListener('keydown', keyInput, true);
      </script>
    </body>
      </html>
